{"version":3,"file":"index.modern.js","sources":["../src/toTree.js","../src/toFlatTree.js","../src/generateIdsForTree.js"],"sourcesContent":["import {arrayToTree} from 'performant-array-to-tree'\r\n\r\nconst toTree = (items, config = {}) => arrayToTree(items, {\r\n\tparentId: 'parent_id',\r\n\tdataField: null,\r\n\t...config\r\n})\r\n\r\nexport default toTree","import {flatten} from 'flattree'\r\n\r\nconst toFlatTree = (tree, options = {}) => flatten(tree, {\r\n\topenAllNodes: true,\r\n\t...options\r\n})\r\nexport default toFlatTree\r\n","import { nanoid } from 'nanoid'\r\nimport {isPlainObject, isNil, isArray, cloneDeep} from 'lodash-es'\r\n\r\nfunction setIdsForTree(tree, {key = 'id', id = nanoid} = {}) {\r\n\tif(isPlainObject(tree)){\r\n\t\ttree[key] = isNil(tree[key]) ? id() : tree[key]\r\n\r\n\t\tif(tree.children) return {\r\n\t\t\t...tree,\r\n\t\t\tchildren: tree.children.map(c => setIdsForTree(c))\r\n\t\t}\r\n\t} else if(isArray(tree)) {\r\n\t\treturn tree.map(i => setIdsForTree(i))\r\n\t}\r\n\treturn tree\r\n}\r\n\r\nconst generateIdsForTree = (tree, options) => setIdsForTree(cloneDeep(tree), options)\r\n\r\nexport default generateIdsForTree"],"names":["toTree","items","config","arrayToTree","parentId","dataField","toFlatTree","tree","options","flatten","openAllNodes","setIdsForTree","key","id","nanoid","isPlainObject","isNil","children","map","c","isArray","i","generateIdsForTree","cloneDeep"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAEMA,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAQC,MAAR;AAAA,MAAQA,MAAR;AAAQA,IAAAA,MAAR,GAAiB,EAAjB;AAAA;;AAAA,SAAwBC,WAAW,CAACF,KAAD;AACjDG,IAAAA,QAAQ,EAAE,WADuC;AAEjDC,IAAAA,SAAS,EAAE;AAFsC,KAG9CH,MAH8C,EAAnC;AAAA;;ICATI,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOC,OAAP;AAAA,MAAOA,OAAP;AAAOA,IAAAA,OAAP,GAAiB,EAAjB;AAAA;;AAAA,SAAwBC,OAAO,CAACF,IAAD;AACjDG,IAAAA,YAAY,EAAE;AADmC,KAE9CF,OAF8C,EAA/B;AAAA;;ACCnB,SAASG,aAAT,CAAuBJ,IAAvB,SAA6D;AAAA,gCAAJ,EAAI;AAAA,sBAA/BK,GAA+B;AAAA,MAA/BA,GAA+B,yBAAzB,IAAyB;AAAA,qBAAnBC,EAAmB;AAAA,MAAnBA,EAAmB,wBAAdC,MAAc;;AAC5D,MAAGC,aAAa,CAACR,IAAD,CAAhB,EAAuB;AACtBA,IAAAA,IAAI,CAACK,GAAD,CAAJ,GAAYI,KAAK,CAACT,IAAI,CAACK,GAAD,CAAL,CAAL,GAAmBC,EAAE,EAArB,GAA0BN,IAAI,CAACK,GAAD,CAA1C;AAEA,QAAGL,IAAI,CAACU,QAAR,EAAkB,oBACdV,IADc;AAEjBU,MAAAA,QAAQ,EAAEV,IAAI,CAACU,QAAL,CAAcC,GAAd,CAAkB,UAAAC,CAAC;AAAA,eAAIR,aAAa,CAACQ,CAAD,CAAjB;AAAA,OAAnB;AAFO;AAIlB,GAPD,MAOO,IAAGC,OAAO,CAACb,IAAD,CAAV,EAAkB;AACxB,WAAOA,IAAI,CAACW,GAAL,CAAS,UAAAG,CAAC;AAAA,aAAIV,aAAa,CAACU,CAAD,CAAjB;AAAA,KAAV,CAAP;AACA;;AACD,SAAOd,IAAP;AACA;;IAEKe,kBAAkB,GAAG,SAArBA,kBAAqB,CAACf,IAAD,EAAOC,OAAP;AAAA,SAAmBG,aAAa,CAACY,SAAS,CAAChB,IAAD,CAAV,EAAkBC,OAAlB,CAAhC;AAAA;;;;"}