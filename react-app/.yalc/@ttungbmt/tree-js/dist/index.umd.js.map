{"version":3,"file":"index.umd.js","sources":["../src/toTree.js","../src/toFlatTree.js","../src/generateIdsForTree.js"],"sourcesContent":["import {arrayToTree} from 'performant-array-to-tree'\r\n\r\nconst toTree = (items, config = {}) => arrayToTree(items, {\r\n\tparentId: 'parent_id',\r\n\tdataField: null,\r\n\t...config\r\n})\r\n\r\nexport default toTree","import {flatten} from 'flattree'\r\n\r\nconst toFlatTree = (tree, options = {}) => flatten(tree, {\r\n\topenAllNodes: true,\r\n\t...options\r\n})\r\nexport default toFlatTree\r\n","import { nanoid } from 'nanoid'\r\nimport {isPlainObject, isNil, isArray, cloneDeep} from 'lodash-es'\r\n\r\nfunction setIdsForTree(tree, {key = 'id', id = nanoid} = {}) {\r\n\tif(isPlainObject(tree)){\r\n\t\ttree[key] = isNil(tree[key]) ? id() : tree[key]\r\n\r\n\t\tif(tree.children) return {\r\n\t\t\t...tree,\r\n\t\t\tchildren: tree.children.map(c => setIdsForTree(c))\r\n\t\t}\r\n\t} else if(isArray(tree)) {\r\n\t\treturn tree.map(i => setIdsForTree(i))\r\n\t}\r\n\treturn tree\r\n}\r\n\r\nconst generateIdsForTree = (tree, options) => setIdsForTree(cloneDeep(tree), options)\r\n\r\nexport default generateIdsForTree"],"names":["toTree","items","config","arrayToTree","parentId","dataField","toFlatTree","tree","options","flatten","openAllNodes","setIdsForTree","key","id","nanoid","isPlainObject","isNil","children","map","c","isArray","i","generateIdsForTree","cloneDeep"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;MAEMA,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAQC,MAAR;EAAA,MAAQA,MAAR;EAAQA,IAAAA,MAAR,GAAiB,EAAjB;EAAA;;EAAA,SAAwBC,iCAAW,CAACF,KAAD;EACjDG,IAAAA,QAAQ,EAAE,WADuC;EAEjDC,IAAAA,SAAS,EAAE;EAFsC,KAG9CH,MAH8C,EAAnC;EAAA;;MCATI,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOC,OAAP;EAAA,MAAOA,OAAP;EAAOA,IAAAA,OAAP,GAAiB,EAAjB;EAAA;;EAAA,SAAwBC,gBAAO,CAACF,IAAD;EACjDG,IAAAA,YAAY,EAAE;EADmC,KAE9CF,OAF8C,EAA/B;EAAA;;ECCnB,SAASG,aAAT,CAAuBJ,IAAvB,SAA6D;EAAA,gCAAJ,EAAI;EAAA,sBAA/BK,GAA+B;EAAA,MAA/BA,GAA+B,yBAAzB,IAAyB;EAAA,qBAAnBC,EAAmB;EAAA,MAAnBA,EAAmB,wBAAdC,aAAc;;EAC5D,MAAGC,sBAAa,CAACR,IAAD,CAAhB,EAAuB;EACtBA,IAAAA,IAAI,CAACK,GAAD,CAAJ,GAAYI,cAAK,CAACT,IAAI,CAACK,GAAD,CAAL,CAAL,GAAmBC,EAAE,EAArB,GAA0BN,IAAI,CAACK,GAAD,CAA1C;EAEA,QAAGL,IAAI,CAACU,QAAR,EAAkB,oBACdV,IADc;EAEjBU,MAAAA,QAAQ,EAAEV,IAAI,CAACU,QAAL,CAAcC,GAAd,CAAkB,UAAAC,CAAC;EAAA,eAAIR,aAAa,CAACQ,CAAD,CAAjB;EAAA,OAAnB;EAFO;EAIlB,GAPD,MAOO,IAAGC,gBAAO,CAACb,IAAD,CAAV,EAAkB;EACxB,WAAOA,IAAI,CAACW,GAAL,CAAS,UAAAG,CAAC;EAAA,aAAIV,aAAa,CAACU,CAAD,CAAjB;EAAA,KAAV,CAAP;EACA;;EACD,SAAOd,IAAP;EACA;;MAEKe,kBAAkB,GAAG,SAArBA,kBAAqB,CAACf,IAAD,EAAOC,OAAP;EAAA,SAAmBG,aAAa,CAACY,kBAAS,CAAChB,IAAD,CAAV,EAAkBC,OAAlB,CAAhC;EAAA;;;;;;;;;;;;;;;;"}